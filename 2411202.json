[{"bookSourceGroup": "优", "bookSourceName": "🐣格格党56", "bookSourceType": 0, "bookSourceUrl": "http://www.52ggd.com##ʕ ᵔᴥᵔ ʔ喜静", "customOrder": 0, "enabled": false, "enabledCookieJar": true, "enabledExplore": true, "exploreUrl": "[{\"title\":\"分类\",\"url\":\"\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}},{\"title\":\"玄幻小说\",\"url\":\"/sort/xuanhuan/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"仙侠小说\",\"url\":\"/sort/xianxia/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"都市小说\",\"url\":\"/sort/dushi/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"历史军事\",\"url\":\"/sort/lishi/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"游戏竞技\",\"url\":\"/sort/youxi/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"科幻小说\",\"url\":\"/sort/kehuan/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"恐怖小说\",\"url\":\"/sort/kongbu/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"其他类型\",\"url\":\"/sort/qita/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},{\"title\":\"综合书库\",\"url\":\"/sort/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}}]", "lastUpdateTime": 1729790440296, "respondTime": 180000, "ruleBookInfo": {"author": "a", "coverUrl": "c", "init": "@js:\n$ = (_) => java.getString(_);\n({\n    n: $(\".d_title@h1@text\"),\n    a: $(\"[property$=author]@content\"),\n    k: $(\"[property~=category|status|update_time]@content\"),\n    w: $(\"text.字数@text\\#\\#字数[：:]\"),\n    l: $(\"[property~=las?test_chapter_name]@content\"),\n    i: $(\"[property$=description]@content\"),\n    c: $(\"[property$=image]@content\"),\n    t: $(\"text.目录@href\"),\n    d: $(\"text.下载@href\")\n});", "intro": "i", "kind": "k", "lastChapter": "l", "name": "n##\\(.*?|\\)", "wordCount": "w"}, "ruleContent": {"content": "#TextContent@html", "nextContentUrl": "text.下一页@href"}, "ruleExplore": {"author": "tag.a@href<js>java.ajax(result)\n</js>class.p_author@a@text", "bookList": "#sitebox dl", "bookUrl": "a.1@href", "coverUrl": "img@data-original", "intro": ".book_des@text", "kind": "span.0@text", "lastChapter": "a.2@text", "name": "a.1@text"}, "ruleReview": {}, "ruleSearch": {"author": "span.2@text", "bookList": "#nr", "bookUrl": "a.1@href", "coverUrl": "img@data-original", "intro": ".book_des@text", "kind": "span.0@text", "lastChapter": "a.2@text", "name": "a.1@text", "wordCount": "span.4@text"}, "ruleToc": {"chapterList": "#chapterList li a", "chapterName": "text", "chapterUrl": "href"}, "searchUrl": "http://www.52ggd.com/search/,{\n  \"body\": \"searchkey={{key}}\",\n  \"method\": \"POST\",\n  \"webView\": true\n}", "weight": 0}, {"bookSourceComment": "", "bookSourceGroup": "优", "bookSourceName": "中文看🎃", "bookSourceType": 0, "bookSourceUrl": "http://wap.zwkan.com#🎃", "customOrder": 6, "enabled": true, "enabledCookieJar": true, "enabledExplore": true, "exploreUrl": "玄幻::/xuanhuanqihuan/<,{{page}}.html>\n仙侠::/wuxiaxianxia/<,{{page}}.html>\n都市::/dushiyanqing/<,{{page}}.html>\n历史::/lishijunshi/<,{{page}}.html>\n科幻::/kehuanchuanqi/<,{{page}}.html>\n恐怖::/kongbulingyi/<,{{page}}.html>\n其他::/qitaleixing/<,{{page}}.html>\n全本::/quanben/<,{{page}}.html>", "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\"}", "lastUpdateTime": 1721907302564, "respondTime": 3562, "ruleBookInfo": {"author": "[property=\"og:novel:author\"]@content", "coverUrl": "[property=\"og:image\"]@content", "downloadUrls": "text.TXT下载@href", "intro": "[property=\"og:description\"]@content\n##简介：", "kind": "[property=\"og:novel:category\"]@content", "lastChapter": "[property=\"og:novel:latest_chapter_name\"]@content", "name": "[property=\"og:novel:book_name\"]@content"}, "ruleContent": {"content": "#nr1@html", "nextContentUrl": "@js:\nvar png=/next.png/.test(src);\nnext=png?src.match(/eval(.function.*)/)[1]:\"\";\nvar url=next?eval(next):\"\";\n//java.log(url)\nurl?eval(url.replace(/var/,\"\")):\"\"", "replaceRegex": "##\\s*本章未完.*\\s*|\\s*《.*?》,牢记网址:wap.zwkan.com", "webJs": ""}, "ruleExplore": {"author": ".s3@text", "bookList": ".lis@li", "bookUrl": "a@href", "coverUrl": "@js:\"/images/default.jpg\"", "kind": ".s1@text##\\[|\\]", "name": "a@text"}, "ruleSearch": {"author": ".s3@text", "bookList": ".lis@li", "bookUrl": ".s2@a@href", "checkKeyWord": "剑来", "coverUrl": "@js:\"/images/default.jpg\"", "kind": ".s1@text##\\[|\\]", "name": ".s2@a@text"}, "ruleToc": {"chapterList": ".chapter.1@li", "chapterName": "a@text", "chapterUrl": "a@href", "nextTocUrl": "option@value||text.下一页@href"}, "searchUrl": "@js:\n\nhtml = java.ajax(source.getKey())\n\ntoken = org.jsoup.Jsoup.parse(html).select('input[name=_token]').attr('value')\n\n\"/search,\"+JSON.stringify({\n  \"body\": `_token=${token}&kw=${key}`,\n  \"method\": \"POST\"\n})", "weight": 0}, {"bookSourceComment": "", "bookSourceGroup": "优", "bookSourceName": "格格党4368", "bookSourceType": 0, "bookSourceUrl": "http://www.52ggd.com", "bookUrlPattern": "", "customOrder": 48, "enabled": false, "enabledCookieJar": false, "enabledExplore": true, "exploreUrl": "[{\"title\":\"玄幻小说\",\"url\":\"/lc/1_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"仙侠小说\",\"url\":\"/lc/2_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"都市小说\",\"url\":\"/lc/3_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"历史军事\",\"url\":\"/lc/4_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"游戏竞技\",\"url\":\"/lc/5_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"科幻小说\",\"url\":\"/lc/6_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"恐怖小说\",\"url\":\"/lc/7_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}},{\"title\":\"其他类型\",\"url\":\"/lc/8_{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.4}}]", "header": "", "lastUpdateTime": 1729789315287, "respondTime": 1594, "ruleBookInfo": {"author": "class.p_author@tag.a@text", "coverUrl": "id.bookimg@tag.img@src", "intro": "id.bookintro@tag.p@text", "kind": "id.count@tag.ul@tag.li.0@tag.span@text", "lastChapter": "class.chaw@tag.li.0@tag.a@text", "name": "class.d_title@tag.h1@text", "wordCount": "id.count@tag.ul@tag.li.1@tag.span@text"}, "ruleContent": {"content": "id.TextContent@html", "nextContentUrl": "text.下一页@href", "replaceRegex": ""}, "ruleExplore": {"author": "class.author@text", "bookList": "ul@li", "bookUrl": "a@href", "coverUrl": "img@data-original", "intro": "class.desc@text", "kind": "0", "name": "h3@text"}, "ruleReview": {}, "ruleSearch": {"author": "class.book_other@tag.span.0@text", "bookList": "id.sitebox@id.nr", "bookUrl": "tag.h3@tag.a.0@href", "checkKeyWord": "我的", "coverUrl": "tag.dt@tag.a.0@tag.img@src", "intro": "class.book_des.0@text", "kind": "", "lastChapter": "class.book_other@tag.a.0@text", "name": "tag.h3@tag.a.0@text", "wordCount": "class.book_other@tag.span.2@text"}, "ruleToc": {"chapterList": "class.chaw_c@tag.li", "chapterName": "a@text", "chapterUrl": "a@href", "nextTocUrl": "text.下一页@href"}, "searchUrl": "<js>\ncookie.removeCookie(source.bookSourceUrl);\n</js>\n/search/,{\n\"charset\": \"UTF-8\",\n\"method\": \"POST\",\n\"body\": \"searchkey={{key}}\"}", "weight": 0}, {"bookSourceComment": "// 需要阅读3.24.073119以上版本\n// 偶尔会连接超时，刷新即可\n// 24.7.31制作：明月照大江", "bookSourceGroup": "优", "bookSourceName": "🔰 当阅读-JS", "bookSourceType": 0, "bookSourceUrl": "https://www.dangyuedu.com", "customOrder": 65, "enabled": true, "enabledCookieJar": true, "enabledExplore": true, "header": "", "lastUpdateTime": 1727066524384, "loginCheckJs": "", "respondTime": 9543, "ruleBookInfo": {"name": ""}, "ruleContent": {"content": "#content@html", "replaceRegex": "##ntent|{{book.name}}$"}, "ruleExplore": {}, "ruleSearch": {"author": "span@text##著", "bookList": "<js>\nsht = java.get(\"sht\");\nsht\n</js>\n.item", "bookUrl": "a:nth-child(2)@href", "checkKeyWord": "", "coverUrl": "img@src", "intro": "dd@text", "name": "a:nth-child(2)@text@js:\nk = java.get(\"key\");\nif (result == k){ result; }else{ null; };"}, "ruleToc": {"chapterList": ".section-box:nth-child(4) li", "chapterName": "text", "chapterUrl": "a@href", "nextTocUrl": "option@value"}, "searchUrl": "@js:\nfunction createSearchUrl(key) {\n  return `https://www.sososhu.com?q=${java.encodeURI(key, 'utf-8')}&site=dangyuedu&Submit=${java.encodeURI('搜索', 'utf-8')}`;\n}\n\nfunction createHeaders(origin, referer) {\n  return {\n    'Accept-Encoding': 'gzip, deflate, br, zstd',\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'origin': origin,\n    'x-requested-with': 'mark.via',\n    'referer': referer\n  };\n}\n\nfunction handleDirectResult(ht1, key) {\n  let che = `与“${key}”相关的小说`;\n  if (ht1.body().includes(che)) {\n    java.put('sht', ht1.body());\n    return true;\n  }\n  return false;\n}\n\nfunction handleRedirect(u1, hd) {\n  hd.Accept = 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,/;q=0.8,application/signed-exchange;v=b3;q=0.7';\n  u1 = `https://www.sososhu.com${u1}`;\n  let u2 = java.get(u1, hd).header('location');\n  java.log(u2);\n  let sht = java.get(u2, hd);\n  java.put('sht', sht.body());\n}\n\nfunction calculateSum(o, nonce) {\n  let d = 0;\n  for (let i = 0; i < o.length; i++) {\n    let r = o[i];\n    if (/^[a-zA-Z0-9]$/.test(r)) {\n      d += o.charCodeAt(i) * (nonce + i);\n    }\n  }\n  return d;\n}\n\nfunction handleDDoSProtection(ht1, su, hd) {\n  let ck1 = ht1.header('set-cookie').split(';')[0];\n  let o = String(ck1.split('=')[1]);\n  java.log(o);\n  \n  let nonce = ht1.body().match(/var nonce = (\\d+)/);\n  nonce = nonce ? +nonce[1] : null;\n  java.log(nonce);\n  \n  let d = calculateSum(o, nonce);\n  java.log(String(d));\n  \n  let body = `sum=${d}&nonce=${nonce}`;\n  hd['x-ge-ua-step'] = 'prev';\n  hd.cookie = ck1;\n  \n  let ht2 = java.post(su, body, hd);\n  java.log(ht2.body());\n  \n  let ck2 = ht2.header('set-cookie').split(';')[0];\n  java.log(ck2);\n  \n  Packages.java.lang.Thread.sleep(5000);\n  \n  delete hd['x-ge-ua-step'];\n  hd.Accept = 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,/;q=0.8,application/signed-exchange;v=b3;q=0.7';\n  hd.cookie = ck2;\n  \n  let sht = java.get(su, hd);\n  let u1 = sht.header('location');\n  java.log(u1);\n  \n  if (u1) {\n    handleRedirect(u1, hd);\n  } else {\n    java.put('sht', sht.body());\n  }\n}\n\nfunction main(key) {\n  java.put('key', key);\n  let su = createSearchUrl(key);\n  let ht1 = java.get(su, {});\n  let hd = createHeaders('https://www.sososhu.com', su.replace('com', 'com/'));\n  let u1 = ht1.header('location');\n  \n  if (handleDirectResult(ht1, key)) {\n    return;\n  } else if (u1) {\n    handleRedirect(u1, hd);\n  } else {\n    handleDDoSProtection(ht1, su, hd);\n  }\n}\n\nmain(key);\n`data:;base64,MTIzNDU2Nzg5,{\"type\":\"null\"}`", "weight": 88}, {"bookSourceGroup": "优", "bookSourceName": "中文看，看中文", "bookSourceType": 0, "bookSourceUrl": "http://wap.zwkan.com", "concurrentRate": "380", "customOrder": 111, "enabled": true, "enabledCookieJar": false, "enabledExplore": true, "lastUpdateTime": 1723451413388, "respondTime": 4582, "ruleBookInfo": {"author": ".block@p.2@a@text", "coverUrl": ".block@img@src", "init": "", "intro": ".intro_info@textNodes##简介：|最新章节推荐地址[\\s\\S]+", "kind": ".block@p.5:3:4@text##.*?：", "lastChapter": ".block@p.6@a@text", "name": ".block@h2@text", "wordCount": ""}, "ruleContent": {"content": "#nr1@html", "nextContentUrl": ".pb_prev@html\n<js>\nif (!result[0].includes(\"下一章\")) {\na=src.match(/eval(.*)/)[1]\neval(a).match(/\"(.*)\"/)[1]\n}\n</js>", "replaceRegex": "##\\s*本章未完，点下一页继续阅读。>>>\\s*"}, "ruleExplore": {}, "ruleSearch": {"author": ".s3@text", "bookList": ".lis dl", "bookUrl": ".s2@a@href", "checkKeyWord": "", "kind": ".s1@text", "name": ".s2@text"}, "ruleToc": {"chapterList": ".intro:contains(正文)+.chapter li a", "chapterName": "text", "chapterUrl": "href", "nextTocUrl": "option!0@value"}, "searchUrl": "<js>\na=java.ajax(source.getKey()+\"/bookcase.html\")\nb=org.jsoup.Jsoup.parse(a).select(\"form\").select('[name=\"_token\"]').val()\njava.log(b)\n\nurl=`/search,{\n  \"body\": \"_token=${b}&kw=${key}\",\n  \"method\": \"POST\"\n}`\n</js>", "weight": 0}]
