[{"bookSourceComment": "//2024.10.5◎GEd520◎\n//2024.11.26添加听书◎河鹅和◎\n/*\n以下网址可切换\nhttps://book.cloudepay.cc/\nhttps://book.komr.cn/\n*/", "bookSourceGroup": "直连", "bookSourceName": "极简搜书◎GEd520◎", "bookSourceType": 0, "bookSourceUrl": "https://book.cloudepay.cc/", "bookUrlPattern": "https:\\/\\/book\\.(komr\\.cn|cloudepay\\.cc)\\/detail\\?bookId\\=\\d+", "customOrder": 0, "enabled": true, "enabledCookieJar": true, "enabledExplore": true, "header": "@js:\nJSON.stringify({'User-Agent':'Mozilla/5.0 (Linux; Android 14; V2304A; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/123.0.6312.118 Mobile Safari/537.36',\n\t\"Referer\":baseUrl\n})", "lastUpdateTime": 1732715314234, "loginUi": "\n[    {\n        \"name\":  \"  注意：切换后记得下拉刷新详情页  \",\n        \"type\": \"button\",\n        \"action\": \"\"\n      },{\n        \"name\":  \"听书切换阅读会出现链接刷新章节即可\",\n        \"type\": \"button\",\n        \"action\": \"\"\n      },\n      {\n        \"name\":  \"      当前模式     \",\n        \"type\": \"button\",\n        \"action\": \"get(ms)\"\n      },\n      {\n        \"name\": \"纯净阅读(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(-1,'纯净阅读')\"\n      },\n      {\n        \"name\": \"纯净漫画(自动)\",\n        \"type\": \"button\",\n        \"action\": \"mh()\"\n      },\n    {\n        \"name\": \"多人发音(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(51,'多人发音')\"\n      },\n      {\n        \"name\": \"真人发音(自动)\",\n        \"type\": \"button\",\n        \"action\": \"zr()\"\n      },\n      {\n        \"name\": \"甜美少女(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(1,'甜美少女')\"\n      },\n      {\n        \"name\": \"清亮青叔(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(2,'清亮青叔')\"\n      },\n      {\n        \"name\": \"开朗青年(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(5,'开朗青年')\"\n      },\n      {\n        \"name\": \"温柔淑女(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(6,'温柔淑女')\"\n      },\n      {\n        \"name\": \"成熟大叔(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(4,'成熟大叔')\"\n      },\n      {\n        \"name\": \"大叔升级(手动)\",\n        \"type\": \"button\",\n        \"action\": \"set(74,'大叔升级')\"\n      }\n    ]", "loginUrl": "function login() {}\nvar ms = source.getVariable();\nfunction get(arg) {\n\t  var datadist = {\n  \"-1\": \"纯净阅读\",\n  \"-2\": \"纯净漫画\",\n  \"51\": \"多人发音\",\n  \"0\": \"真人发音\",\n  \"1\": \"甜美少女\",\n  \"2\": \"清亮青叔\",\n  \"5\": \"开朗青年\",\n  \"6\": \"温柔淑女\",\n  \"4\": \"成熟大叔\",\n  \"74\": \"大叔升级\"\n};\nvar tishi = '\\n\\n当前模式：'+datadist[arg]\n    java.toast(tishi);\n}\nfunction set(mode,name) {\n\t   let toast = \"\\n\\n已切换至：\" + name+'\\n\\n切换后需要刷新详情页';\n\t   source.setVariable(mode);\n \t   java.toast(toast);\n    }\nfunction zr() {\n\t   let toast ='\\n\\n真人语音无法手动切换\\n\\n前往搜索找包含主播的书籍进入即可';\n\t   java.toast(toast);\n    }\nfunction mh() {\n\t   let toast ='\\n\\n漫画无法手动切换\\n\\n前往搜索找包含主播的书籍进入即可';\n\t   java.toast(toast);\n    }", "respondTime": 14027, "ruleBookInfo": {"author": "p.1@text", "coverUrl": "img@src", "intro": "p.6@text", "kind": "{{@@p.3@text##分类：}}\n{{@@p.2@text##评分：}}", "lastChapter": "p.5@text##最新：", "name": "p.0@text##书名：", "tocUrl": "onclick##href='([^']+)'##$1###", "wordCount": "p.4@text##字数："}, "ruleContent": {"content": "@js:\nif (baseUrl.match(/jjts/)){\n\tresult=baseUrl.replace(/jjts/,\"jjts.mp3\")\n\t}else{\tresult=java.getString(\".reading-container@html\")\n\t\t}\n//java.log(result)\nresult", "imageStyle": "FULL", "sourceRegex": ""}, "ruleExplore": {}, "ruleSearch": {"author": "p.0@text## · .*", "bookList": ".key-item", "bookUrl": "onclick##href='([^']+)'##$1###", "checkKeyWord": "我的", "coverUrl": "img@src", "intro": ".description@text", "name": "h3@text", "wordCount": "p.0@text##.*· "}, "ruleToc": {"chapterList": "ul@li@a\n<js>\nfunction deviceType() {\n  try {\n    return!!java.androidId();\n  } catch (e) {\n    return false;\n  }\n}\nlet device = deviceType()? 'android' : 'ios';\nvar datadist = {\n  \"-1\": \"纯净阅读\",\n  \"-2\": \"纯净漫画\",\n  \"51\": \"多人发音\",\n  \"0\": \"真人发音\",\n  \"1\": \"甜美少女\",\n  \"2\": \"清亮青叔\",\n  \"5\": \"开朗青年\",\n  \"6\": \"温柔淑女\",\n  \"4\": \"成熟大叔\",\n  \"74\": \"大叔升级\"\n};\nvar ms = String(source.getVariable())\nif (String(book.author).match(/主播/)){ms=\"0\"}\nif (String(result[0].attr(\"href\")).match(/jjmh/)) {\n\tms=\"-2\"\n\tif (device === 'android') {\n    book.type = 64;} else {\n    \tbook.type = 2;\n    \t}\n} else if ([\"51\",\"1\",\"2\",\"5\",\"6\",\"4\",\"74\"].includes(ms)) {\n\t  var list=[]\n\t  result.forEach(c=>{\n\t  \turl=String(c.attr(\"href\")).replace(/content/,\"jjts\").replace(/$/,`&tone_id=${ms}`)\n\t  \tlist.push({\n\t  \t\ttext:c.text(),\n\t  \t\thref:url\n\t  \t\t})\n\t  \t})\n\t  //java.log(JSON.stringify(list))\n\t  \tresult=list\n\t  if (device === 'android') {\n    book.type = 32;} else {\n    \tbook.type = 1;\n    \t}\n  }else if(ms === '-1'){\n\t \tif (device === 'android') {\n    book.type = 8;} else {\n    \tbook.type = 0;\n    \t}\n\t \t}else if(ms===\"0\"){\n\t \tif (device === 'android') {\n    book.type = 32;} else {\n    \tbook.type = 1;\n    \t}\n\t \t}else{\n\t \t\tms=\"-1\"\n\t \t\tif (device === 'android') {\n    book.type = 8;} else {\n    \tbook.type = 0;\n    \t}\n\t \t\t\n\t \t\t};\n\nvar tishi = '\\n\\n当前模式：'+datadist[ms]+'\\n\\n如切换,请切换请下拉刷新详情页\\n由于缓存原因，已听的需要切换到下一章再切回来'\nif (baseUrl==book.tocUrl){\n\tjava.toast(tishi);\n\t}\n\nresult\n</js>", "chapterName": "text", "chapterUrl": "href", "nextTocUrl": "option.-1@value\n<js>\npageSum=parseInt(result[0])\nburl=String(book.tocUrl)\nresult=Array.from({length:pageSum-1},(_,i)=>`${burl}&page=${i+2}`)\nresult\n</js>"}, "searchUrl": "?query={{key}}", "weight": 0}]
